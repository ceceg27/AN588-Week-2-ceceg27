---
title: "AN597-week-2"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

#module 4 notes and challenges


#how to code simple matrix
m<-matrix(data = c(1,2,3,4), nrow = 2, ncol = 2)
m 
m <- matrix(data = c(1, 2, 3, 4, 5, 6), nrow = 2, ncol = 3, byrow = FALSE)
m
m <- matrix(data = c(1, 2, 3, 4, 5, 6), nrow = 2, ncol = 3, byrow = TRUE)
m

#how to bind vectors to form a matrix
#first one is by row, second is by column 
v1 <- c(1, 2, 3, 4)
v2 <- c(6, 7, 8, 9)
m1 <- rbind(v1, v2)
m1

m2 <- cbind(v1, v2)
m2

#finding metadata in matrix
class(m1)
dim(m1)
class(m2)
dim(m2)
colnames(m2)
rownames(m2)
str(m2) 

#making arrays, a general data structure
a <- array(data = 1:90, dim = c(5, 6, 3))
a
#first position is row, then column, then level in c(5,6,3)

#subsetting from a vector
v <-1:100
v
v[1:15]
v[c(2,4,6,8,10)]
v<-101:200
v[seq(from = 1, to = 100, by = 2)]

#challenge 1
```{r challange 1}
vector <- c("Stately", "plump", "Buck", "Mulligan", "came", "from", "the", "stairhead", "bearing", "a", "bowl", "of", "lather", "on", "which", "a", "mirror", "and", "a", "razor", "lay" ,"crossed")
vector
a <-vector[seq(1, length(vector), 3)]
a
```

#challange 2
```{r challange 2}
m <- matrix(data = 1:80, nrow = 8, ncol = 10, byrow = FALSE)
m
x <-m[,c(2,3,6)]
x
x<-m[c(6,8),]
x
x <- m[2:6, 2:9]
x
```

#challange 3
```{r challange 3}
a <- array(data = 400:1, dim = c(5, 5, 4, 4))
a
a[1, 1, 1, 2]

a[2, 3, 2,]

a[1:5, 1:5, 3, 3]
```

#lists 
s <- c("this", "is", "a", "vector", "of", "strings")  # here we have a vector
m <- matrix(data = 1:40, nrow = 5, ncol = 8)  # this is a matrix
b <- FALSE  #and this is a logical statement
l <- list(s, m, b)  # this puts them all together as a list
l
l[[1]]
l[[2]][2,6]

#challange 4
```{r challange 4}
Lemuroidea <- c("Cheirogaleidae", "Lepilemuridae", "Indriidae", "Lemuridae",
    "Daubentoniidae")
Lorisoidea <- c("Lorisidae", "Galagidae")
Strepsirhini <- list(Lemuroidea, Lorisoidea)
names(Strepsirhini) <- list("Lemuroidea", "Lorisoidea")
Strepsirhini

Platyrrhini<- c("Cebidae", "Atelidae", "Pitheciidae")
Catarrhini <- c("Cercopithecidae", "Hylobatidae", "Hominidae")
Anthropoidea <- list(Platyrrhini, Catarrhini)
names(Anthropoidea) <- list("Platyrrhini", "Catarrhini")
Anthropoidea
Tarsioidea <-c("Tarsiidae")
Haplorhini <-list(Anthropoidea, Tarsioidea)
names(Haplorhini) <- list("Anthropoidea", "Tarsioidea")
Haplorhini
Primates<-list(Haplorhini,Strepsirhini)
names(Primates) <- list("Haplorhini", "Strepsirhini")
Primates
```

#dataframes
df <- data.frame(firstName = c("Nitin", "Silvy", "Ingrid", "Claire"), major = c("Biology (CM)",
    "Anthropology (Bio)", "Anthropology (Medical)", "Biology (EEB)"), sex = c("M",
    "F", "F", "F"), yearInProgram = c(1, 2, 2, 3))
df
df <- read.csv("~/Desktop/randompeople", sep = ",", header = TRUE, stringsAsFactors = FALSE)
# only print select columns
df[, c(1, 3, 4, 11, 12)]

str(df)
df[,3]
df <- cbind(df, id = c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
    17, 18, 19, 20))
df <- cbind(df, school = c("BU", "BU", "Harvard", "Harvard", "BU", "Boston College",
    "MIT", "BU", "BU", "UMASS Boston", "Harvard", "BU", "Boston College", "BU",
    "Harvard", "MIT", "Harvard", "BU", "UMASS Boston", "Harvard"))
df
new_df <- df[df$school == "BU", ]
new_df

new_df <- df[df$school == "BU", c("name.last", "name.first", "school")]
new_df

#challange 5
```{r challage 5}
m3 <- matrix(data= c( 3, 0, 1 ,23, 1, 2, 33, 1, 1, 42, 0, 1, 41, 0, 2), nrow = 3, ncol = 5, byrow = TRUE)
m3
df_m <- as.data.frame (m3)
as.factor(df_m[,3])
str(df_m)
as.logical(df_m[,3])
str(df_m)
```

#module 5
#loading a txt file
f <- "~/Desktop/CPDS-1960-2014-reduced.txt"
d <- read.table(f, header = TRUE, sep =",", stringsAsFactors = FALSE)
head(d)
tail(d)
class(d)
#loading a cvs
d <- read.delim(f, header = TRUE, stringsAsFactors = FALSE)
head(d) 
f <- "~/Desktop/CPDS-1960-2014-reduced.csv"
d <- read.table(f, header = TRUE, sep =",", stringsAsFactors = FALSE)
head(d)
require(readr)
#makes things into even nicer tables (loaing with readr for txt and cvs)
f <- "~/Desktop/CPDS-1960-2014-reduced.txt"
d <- read_tsv(f, col_names = TRUE)
class(d)
head(d)
require(readr)
f <- "~/Desktop/CPDS-1960-2014-reduced.csv"
d <- read_csv(f, col_names = TRUE)
head(d)
#loading xtxl with readxl
require(readxl)
f <- "~/Desktop/CPDS-1960-2014-reduced.xlsx"
d <- read_excel(f, sheet = 1, col_names = TRUE)
head(d)
str(d)
#loading xtxl with xlconnect
require(XLConnect)
f <- "~/Desktop/CPDS-1960-2014-reduced.xlsx"
d <- readWorksheetFromFile(f, sheet = 1, header = TRUE)
head(d)
str(d)
f <- "~/Desktop/output.xlsx"
if (file.exists(f)) {file.remove(f)}
writeWorksheetToFile(f, d, sheet = "myData", clearSheets = TRUE)
#getting an error here
#importing files from a remote server
#cvs
library(curl)
f <- curl("https://raw.githubusercontent.com/fuzzyatelin/fuzzyatelin.github.io/master/AN597_Fall19/CPDS-1960-2014-reduced.csv")
d <- read.csv(f, header = TRUE, sep = ",", stringsAsFactors = FALSE)
head(d)
#txt
f <- curl("https://raw.githubusercontent.com/fuzzyatelin/fuzzyatelin.github.io/master/AN597_Fall19/CPDS-1960-2014-reduced.txt")
d <- read.table(f, header = TRUE, sep="\t", stringsAsFactors = FALSE)
head(d)
#importing from remote using readr
library(readr)
f <- "https://raw.githubusercontent.com/fuzzyatelin/fuzzyatelin.github.io/master/AN597_Fall19/CPDS-1960-2014-reduced.csv"
d <- read_csv(f, col_names = TRUE)
#getting an error when I do this
f <- "https://raw.githubusercontent.com/fuzzyatelin/fuzzyatelin.github.io/master/AN597_Fall19/CPDS-1960-2014-reduced.txt"
d <- read_tsv(f, col_names = TRUE)
#getting an error with this one too, is the url correct?

